<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Input Account Details</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    font-family:Inter,system-ui,Arial;
    background:#0b0f14;
    color:#fff;
    height:100vh;
    display:flex;
    flex-direction:column;
}
.navbar{
    height:56px;
    background:#0f172a;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:600;
    font-size:18px;
    border-bottom:1px solid #1e293b;
}
.main{flex:1;padding:16px;display:flex;flex-direction:column;justify-content:center;align-items:center;}
.card{
    background:#111827;
    border-radius:16px;
    padding:20px;
    width:100%;
    max-width:400px;
    margin-bottom:16px;
}
.card h2{font-size:16px;margin-bottom:12px;text-align:center;opacity:.85;}
input{
    width:100%;
    padding:12px;
    margin-bottom:12px;
    border-radius:12px;
    border:none;
    background:#1e293b;
    color:#fff;
    font-size:14px;
}
button{
    width:100%;
    padding:15px;
    border:none;
    border-radius:14px;
    font-size:16px;
    font-weight:600;
    margin-top:8px;
    cursor:pointer;
}
button.save{background:#22c55e;color:#000;}
button.back{background:#f59e0b;color:#000;}
.modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.75);
    display:none;
    align-items:center;
    justify-content:center;
}
.modal-box{
    background:#111827;
    padding:22px;
    border-radius:16px;
    width:85%;
    max-width:350px;
    text-align:center;
}
.loader{
    width:42px;
    height:42px;
    border:4px solid #1f2937;
    border-top:4px solid #22c55e;
    border-radius:50%;
    margin:16px auto;
    animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg);}}
.note{text-align:center;font-size:12px;margin-top:12px;opacity:.6;}

/* Bouncing loader for back button */
.bounce-loader{
    display:flex;
    justify-content:center;
    margin:16px auto;
    gap:8px;
}
.bounce-loader div{
    width:14px;
    height:14px;
    background:#22c55e;
    border-radius:50%;
    animation:bounce 0.6s infinite alternate;
}
.bounce-loader div:nth-child(2){animation-delay:0.2s;}
.bounce-loader div:nth-child(3){animation-delay:0.4s;}
@keyframes bounce{
    0%{transform:translateY(0);}
    100%{transform:translateY(-15px);}
}
</style>
</head>
<body>

<div class="navbar">Input Account Details</div>

<div class="main">
    <div class="card">
        <h2>Enter Your Account Info</h2>
        <input type="text" id="accNumber" placeholder="Account Number">
        <input type="text" id="accName" placeholder="Account Name">
        <input type="text" id="bankName" placeholder="Bank Name">
        <button class="save" id="saveBtn">Save</button>
        <button class="back" id="backBtn">Back</button>
        <div class="note">Your details are saved for easy Cash Out</div>
    </div>
</div>

<!-- MODALS -->
<div class="modal" id="loadingModal">
    <div class="modal-box">
        <h3>Hold onâ€¦</h3>
        <div class="loader"></div>
        <p>Adding your payment Cash Out to our database</p>
    </div>
</div>

<div class="modal" id="successModal">
    <div class="modal-box">
        <h3>Success!</h3>
        <p>You have successfully added your account details for easy Cash Out.</p>
        <button class="save" onclick="closeSuccess()">OK</button>
    </div>
</div>

<div class="modal" id="bounceModal">
    <div class="modal-box">
        <h3>Redirecting...</h3>
        <div class="bounce-loader">
            <div></div><div></div><div></div>
        </div>
        <p>Please wait</p>
    </div>
</div>

<script>
// Load saved account details
document.getElementById('accNumber').value = localStorage.getItem('accNumber') || '';
document.getElementById('accName').value = localStorage.getItem('accName') || '';
document.getElementById('bankName').value = localStorage.getItem('bankName') || '';

const saveBtn = document.getElementById('saveBtn');
const backBtn = document.getElementById('backBtn');
const loadingModal = document.getElementById('loadingModal');
const successModal = document.getElementById('successModal');
const bounceModal = document.getElementById('bounceModal');

saveBtn.onclick = () => {
    const accNumber = document.getElementById('accNumber').value.trim();
    const accName = document.getElementById('accName').value.trim();
    const bankName = document.getElementById('bankName').value.trim();

    if(!accNumber || !accName || !bankName){
        alert("Please fill all fields!");
        return;
    }

    // Show loading modal
    loadingModal.style.display = 'flex';

    // Simulate database save
    setTimeout(()=>{
        loadingModal.style.display = 'none';
        localStorage.setItem('accNumber', accNumber);
        localStorage.setItem('accName', accName);
        localStorage.setItem('bankName', bankName);

        successModal.style.display = 'flex';
    },5000);
}

function closeSuccess(){
    successModal.style.display = 'none';
}

// Back button with bouncing loader
backBtn.onclick = () => {
    bounceModal.style.display = 'flex';
    setTimeout(()=>{
        window.location.href = "fav.html";
    },5000);
}
</script>

</body>
</html>
